{"version":3,"sources":["assets/loadingGif.gif","util/apiCalls.js","util/apiCleaners.js","actions/index.js","components/SearchForm/SearchForm.js","components/ArtworkResult/ArtworkResult.js","components/Container/Container.js","components/Nav/Nav.js","components/AudioPlayer/AudioPlayer.js","components/ArtworkModal/ArtworkModal.js","components/App/App.js","reducers/index.js","reducers/results.js","reducers/isLoading.js","reducers/favorites.js","reducers/isFavorites.js","reducers/currentTrack.js","index.js","localStorage.js"],"names":["module","exports","getData","search","type","a","fetch","response","data","ok","Error","json","getAlbumTracks","collectionId","albumTracks","cleanerHandler","label","artist","term","mutableData","results","cleanAlbum","filterArtist","sort","b","releaseYear","cleanSingle","cleanArtist","cleanMovie","cleanPodcast","cleanTvShow","cleanBook","cleanAudiobook","filter","result","flattedTerm","toUpperCase","replace","normalize","artistName","includes","cleanArtwork","artworkUrl","resolution","splitUrl","split","splice","length","joinUrl","join","trackCount","map","artistId","artworkUrl100","collectionName","releaseDate","hqArtwork","id","name","parseInt","slice","trackName","trackId","cleanTracks","track","number","trackNumber","previewUrl","setResults","toggleLoading","boolean","addFavorite","item","removeFavorite","toggleFavorites","setTrack","SearchForm","handleChange","e","setState","target","value","JSON","parse","handleClick","state","props","cleanData","resetState","handleSubmit","preventDefault","this","artistInput","placeholder","onChange","className","onSubmit","onClick","Component","connect","dispatch","bindActionCreators","ArtworkResult","loadHandler","isLoaded","routeHandler","isFavorites","show","display","alt","src","loadingGif","to","style","onLoad","isLoading","favorites","mapCards","key","cardsHandler","loader","rel","as","width","toggleStyling","exact","path","AudioPlayer","componentWillUnmount","currentTrack","controls","ArtworkModal","componentDidMount","isFavorite","find","favorite","cleanedTracks","tracks","error","change","handleToggle","reloadPlayer","setTimeout","mapTracks","index","handleTrack","trackPreview","heartToggle","href","download","render","match","params","RootReducer","combineReducers","action","store","createStore","rootReducer","serializedState","localStorage","getItem","console","loadState","composeWithDevTools","subscribe","stringify","setItem","saveState","getState","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.34264007.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loadingGif.95cf96ca.gif\";","const baseSearchUrl = 'https://itunes.apple.com/search?term=';\nconst baseLookupUrl = 'https://itunes.apple.com/lookup?id=';\n\nexport const getData = async (search, type) => {\n\tconst response = await fetch(`${baseSearchUrl}${search}&entity=${type}`);\n\tconst data = await response;\n\tif (!response.ok) {\n\t\tthrow new Error('Failed to get results');\n\t}\n\treturn await data.json();\n};\n\nexport const getAlbumTracks = async collectionId => {\n\tconst response = await fetch(`${baseLookupUrl}${collectionId}&entity=song`);\n\tconst albumTracks = await response;\n\tif (!response.ok) {\n\t\tthrow new Error('Failed to get album tracks');\n\t}\n\treturn await albumTracks.json();\n};\n","export const cleanerHandler = (data, label, artist, term) => {\n\tconst mutableData = [...data.results];\n\n\tif (label === 'Album') {\n\t\tconst cleanAlbums = artist\n\t\t\t? cleanAlbum(filterArtist(artist, mutableData)).sort(\n\t\t\t\t\t(a, b) => b.releaseYear - a.releaseYear\n\t\t\t  )\n\t\t\t: cleanAlbum(mutableData, term);\n\t\treturn cleanAlbums;\n\t}\n\tif (label === 'Single') {\n\t\tconst cleanSingles = artist\n\t\t\t? cleanSingle(filterArtist(artist, mutableData))\n\t\t\t: cleanSingle(mutableData);\n\t\treturn cleanSingles;\n\t}\n\tif (label === 'Artist') {\n\t\treturn cleanArtist(mutableData);\n\t}\n\tif (label === 'Movie') {\n\t\tconst cleanMovies = cleanMovie(mutableData);\n\t\treturn cleanMovies;\n\t}\n\tif (label === 'Podcast') {\n\t\treturn cleanPodcast(mutableData);\n\t}\n\tif (label === 'TV Show') {\n\t\tconst cleanShows = cleanTvShow(mutableData);\n\t\treturn cleanShows;\n\t}\n\tif (label === 'iBook') {\n\t\treturn cleanBook(mutableData);\n\t}\n\tif (label === 'Audiobook') {\n\t\treturn cleanAudiobook(mutableData);\n\t}\n};\n\nexport const filterArtist = (artist, data) => {\n\treturn data.filter(result => {\n\t\tconst flattedTerm = artist\n\t\t\t.toUpperCase()\n\t\t\t.replace(/ /g, '')\n\t\t\t.normalize('NFD')\n\t\t\t.replace(/[\\u0300-\\u036f]/g, '');\n\t\tconst flattedArtistName = result.artistName\n\t\t\t.toUpperCase()\n\t\t\t.replace(/ /g, '')\n\t\t\t.normalize('NFD')\n\t\t\t.replace(/[\\u0300-\\u036f]/g, '');\n\t\treturn flattedArtistName.includes(flattedTerm);\n\t});\n};\n\nexport const cleanArtwork = (artworkUrl, resolution) => {\n\tconst splitUrl = artworkUrl.split('');\n\tsplitUrl.splice(splitUrl.length - 13);\n\tconst joinUrl = splitUrl.join('');\n\tconst cleanUrl = `${joinUrl}${resolution}x${resolution}.jpg`;\n\treturn cleanUrl;\n};\n\nexport const cleanAlbum = mutableData => {\n\tconst filteredData = mutableData.filter(result => result.trackCount > 5);\n\treturn filteredData.map(result => {\n\t\tconst {\n\t\t\tartistId,\n\t\t\tartistName,\n\t\t\tartworkUrl100,\n\t\t\tcollectionId,\n\t\t\tcollectionName,\n\t\t\treleaseDate,\n\t\t\ttrackCount\n\t\t} = result;\n\t\tconst cleanedData = {\n\t\t\tartistId,\n\t\t\tartist: artistName,\n\t\t\thqArtwork: cleanArtwork(artworkUrl100, 10000),\n\t\t\tid: collectionId,\n\t\t\tname: collectionName,\n\t\t\treleaseYear: parseInt(releaseDate.slice(0, 4)),\n\t\t\ttrackCount\n\t\t};\n\t\treturn cleanedData;\n\t});\n};\n\nexport const cleanSingle = mutableData => {\n\tconst filteredData = mutableData.filter(result => result.trackCount <= 5);\n\treturn filteredData.map(result => {\n\t\tconst {\n\t\t\tartistId,\n\t\t\tartistName,\n\t\t\tartworkUrl100,\n\t\t\tcollectionId,\n\t\t\tcollectionName,\n\t\t\treleaseDate,\n\t\t\ttrackCount\n\t\t} = result;\n\t\tconst cleanedData = {\n\t\t\tartistId,\n\t\t\tartist: artistName,\n\t\t\thqArtwork: cleanArtwork(artworkUrl100, 10000),\n\t\t\tid: collectionId,\n\t\t\tname: collectionName,\n\t\t\treleaseYear: parseInt(releaseDate.slice(0, 4)),\n\t\t\ttrackCount\n\t\t};\n\t\treturn cleanedData;\n\t});\n};\n\nexport const cleanArtist = mutableData => {\n\treturn mutableData.map(result => {\n\t\tconst {\n\t\t\tartistId,\n\t\t\tartistName,\n\t\t\tartworkUrl100,\n\t\t\tcollectionId,\n\t\t\tcollectionName,\n\t\t\treleaseDate,\n\t\t\ttrackCount\n\t\t} = result;\n\t\tconst cleanedData = {\n\t\t\tartistId,\n\t\t\tartist: artistName,\n\t\t\thqArtwork: cleanArtwork(artworkUrl100, 10000),\n\t\t\tid: collectionId,\n\t\t\tname: collectionName,\n\t\t\treleaseYear: parseInt(releaseDate.slice(0, 4)),\n\t\t\ttrackCount\n\t\t};\n\t\treturn cleanedData;\n\t});\n};\n\nexport const cleanMovie = mutableData => {\n\treturn mutableData.map(result => {\n\t\tconst { artworkUrl100, trackName, releaseDate, trackId } = result;\n\n\t\tconst cleanedData = {\n\t\t\thqArtwork: cleanArtwork(artworkUrl100, 10000),\n\t\t\tname: trackName,\n\t\t\treleaseYear: parseInt(releaseDate.slice(0, 4)),\n\t\t\tid: trackId\n\t\t};\n\t\treturn cleanedData;\n\t});\n};\n\nexport const cleanPodcast = mutableData => {\n\treturn mutableData.map(result => {\n\t\tconst { artworkUrl100, trackName, releaseDate, collectionId } = result;\n\n\t\tconst cleanedData = {\n\t\t\thqArtwork: cleanArtwork(artworkUrl100, 10000),\n\t\t\tname: trackName,\n\t\t\treleaseYear: parseInt(releaseDate.slice(0, 4)),\n\t\t\tid: collectionId\n\t\t};\n\t\treturn cleanedData;\n\t});\n};\n\nexport const cleanTvShow = mutableData => {\n\treturn mutableData.map(result => {\n\t\tconst { artworkUrl100, releaseDate, collectionName, collectionId } = result;\n\n\t\tconst cleanedData = {\n\t\t\thqArtwork: cleanArtwork(artworkUrl100, 10000),\n\t\t\tname: collectionName,\n\t\t\treleaseYear: parseInt(releaseDate.slice(0, 4)),\n\t\t\tid: collectionId\n\t\t};\n\t\treturn cleanedData;\n\t});\n};\n\nexport const cleanBook = mutableData => {\n\treturn mutableData.map(result => {\n\t\tconst {\n\t\t\tartworkUrl100,\n\t\t\ttrackName,\n\t\t\treleaseDate,\n\t\t\tartistName,\n\t\t\tcollectionId\n\t\t} = result;\n\n\t\tconst cleanedData = {\n\t\t\tartist: artistName,\n\t\t\thqArtwork: cleanArtwork(artworkUrl100, 10000),\n\t\t\tname: trackName,\n\t\t\treleaseYear: parseInt(releaseDate.slice(0, 4)),\n\t\t\tid: collectionId\n\t\t};\n\t\treturn cleanedData;\n\t});\n};\n\nexport const cleanAudiobook = mutableData => {\n\treturn mutableData.map(result => {\n\t\tconst {\n\t\t\tartworkUrl100,\n\t\t\tcollectionName,\n\t\t\treleaseDate,\n\t\t\tartistName,\n\t\t\tcollectionId\n\t\t} = result;\n\n\t\tconst cleanedData = {\n\t\t\tartist: artistName,\n\t\t\thqArtwork: cleanArtwork(artworkUrl100, 10000),\n\t\t\tname: collectionName,\n\t\t\treleaseYear: parseInt(releaseDate.slice(0, 4)),\n\t\t\tid: collectionId\n\t\t};\n\t\treturn cleanedData;\n\t});\n};\n\nexport const cleanTracks = data => {\n\tconst mutableData = [...data.results];\n\tmutableData.splice(0, 1);\n\tconst cleanedData = mutableData.map(track => {\n\t\tconst { trackName, trackNumber, previewUrl } = track;\n\t\treturn {\n\t\t\tname: trackName,\n\t\t\tnumber: trackNumber,\n\t\t\tpreviewUrl\n\t\t};\n\t});\n\treturn cleanedData;\n};\n","export const setResults = results => ({\n\ttype: 'SET_RESULTS',\n\tresults\n});\n\nexport const toggleLoading = boolean => ({\n\ttype: 'TOGGLE_LOADING',\n\tboolean\n});\n\nexport const addFavorite = item => ({\n\ttype: 'ADD_FAVORITE',\n\titem\n});\n\nexport const removeFavorite = id => ({\n\ttype: 'REMOVE_FAVORITE',\n\tid\n});\n\nexport const toggleFavorites = () => ({\n\ttype: 'TOGGLE_FAVORITES'\n});\n\nexport const setTrack = previewUrl => ({\n\ttype: 'SET_TRACK',\n\tpreviewUrl\n});\n","import React, { Component } from 'react';\nimport './SearchForm.scss';\nimport { getData } from '../../util/apiCalls';\nimport { cleanerHandler } from '../../util/apiCleaners';\nimport { connect } from 'react-redux';\nimport { setResults, toggleLoading } from '../../actions';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\n\nexport class SearchForm extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\ttype: 'album',\n\t\t\tterm: '',\n\t\t\tartist: '',\n\t\t\tlabel: 'Artist'\n\t\t};\n\t}\n\n\thandleChange = e => {\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\n\t\tif (e.target.name === 'type') {\n\t\t\tconst value = JSON.parse(e.target.value);\n\t\t\tthis.setState({\n\t\t\t\ttype: value[0],\n\t\t\t\tlabel: value[1]\n\t\t\t});\n\t\t}\n\t};\n\n\thandleClick = async () => {\n\t\tconst { term, type, label, artist } = this.state;\n\t\tconst { setResults, toggleLoading } = this.props;\n\t\ttry {\n\t\t\tconst data = await getData(term, type);\n\t\t\tsetResults([]);\n\t\t\ttoggleLoading(true);\n\t\t\tconst cleanData = cleanerHandler(data, label, artist, term);\n\t\t\tsetResults(cleanData);\n\t\t\ttoggleLoading(false);\n\t\t} catch (error) {\n\t\t\tsetResults([]);\n\t\t}\n\t\tthis.resetState();\n\t};\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\t};\n\n\tresetState = () => {\n\t\tthis.setState({\n\t\t\tterm: '',\n\t\t\tartist: ''\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { term, artist, label } = this.state;\n\n\t\tconst artistInput = (\n\t\t\t<div>\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\tname='artist'\n\t\t\t\t\tplaceholder='Enter Artist (Optional)'\n\t\t\t\t\tvalue={artist}\n\t\t\t\t\tonChange={e => this.handleChange(e)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\n\t\treturn (\n\t\t\t<form className='SearchForm' onSubmit={e => this.handleSubmit(e)}>\n\t\t\t\t<div className='inputsSection'>\n\t\t\t\t\t<select name='type' onChange={e => this.handleChange(e)}>\n\t\t\t\t\t\t<option value='[\"album\", \"Artist\"]'>Artist</option>\n\t\t\t\t\t\t<option value='[\"album\", \"Album\"]'>Album</option>\n\t\t\t\t\t\t<option value='[\"album\", \"Single\"]'>Single</option>\n\t\t\t\t\t\t<option value='[\"tvSeason\", \"TV Show\"]'>TV Show</option>\n\t\t\t\t\t\t<option value='[\"movie\", \"Movie\"]'>Movie</option>\n\t\t\t\t\t\t<option value='[\"podcast\", \"Podcast\"]'>Podcast</option>\n\t\t\t\t\t\t<option value='[\"audiobook\", \"Audiobook\"]'>Audiobook</option>\n\t\t\t\t\t</select>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tname='term'\n\t\t\t\t\t\tplaceholder={`Enter ${label}`}\n\t\t\t\t\t\tvalue={term}\n\t\t\t\t\t\tonChange={e => this.handleChange(e)}\n\t\t\t\t\t/>\n\t\t\t\t\t{(label === 'Single' || label === 'Album') && artistInput}\n\t\t\t\t</div>\n\t\t\t\t<button onClick={this.handleClick}>FIND ARTWORK</button>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nexport const mapDispatchToProps = dispatch => {\n\treturn bindActionCreators({ setResults, toggleLoading }, dispatch);\n};\n\nSearchForm.propTypes = {\n\tsetResults: PropTypes.func,\n\ttoggleLoading: PropTypes.func\n};\n\nexport default connect(\n\tnull,\n\tmapDispatchToProps\n)(SearchForm);\n","import React, { Component } from 'react';\nimport './ArtworkResult.scss';\nimport loadingGif from '../../assets/loadingGif.gif';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nexport class ArtworkResult extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tisLoaded: false\n\t\t};\n\t}\n\n\tloadHandler = () => {\n\t\tthis.setState({\n\t\t\tisLoaded: true\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { isLoaded } = this.state;\n\t\tconst { name, hqArtwork, id, isFavorites } = this.props;\n\t\tconst routeHandler = isFavorites ? 'favorites' : 'search';\n\t\tconst show = isLoaded ? { display: 'block' } : { display: 'none' };\n\t\treturn (\n\t\t\t<article className='ArtworkResult'>\n\t\t\t\t{!this.state.isLoaded && <img alt='loading gif' src={loadingGif} />}\n\t\t\t\t<Link to={`/${routeHandler}/${id}`}>\n\t\t\t\t\t<img\n\t\t\t\t\t\talt={`${name} album artwork`}\n\t\t\t\t\t\tsrc={hqArtwork}\n\t\t\t\t\t\tstyle={show}\n\t\t\t\t\t\tonLoad={this.loadHandler}\n\t\t\t\t\t/>\n\t\t\t\t</Link>\n\t\t\t</article>\n\t\t);\n\t}\n}\n\nexport const mapStateToProps = ({ isFavorites }) => ({\n\tisFavorites\n});\n\nArtworkResult.propTypes = {\n\tisFavorites: PropTypes.bool\n};\n\nexport default connect(mapStateToProps)(ArtworkResult);\n","import React from 'react';\nimport './Container.scss';\nimport ArtworkResult from '../ArtworkResult/ArtworkResult';\nimport loadingGif from '../../assets/loadingGif.gif';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nexport const Container = ({ results, isLoading, isFavorites, favorites }) => {\n\tconst mapCards = type => {\n\t\treturn type.map(result => {\n\t\t\tconst { name, artist, releaseYear, hqArtwork, id } = result;\n\t\t\treturn (\n\t\t\t\t<ArtworkResult\n\t\t\t\t\tkey={id}\n\t\t\t\t\tid={id}\n\t\t\t\t\tname={name}\n\t\t\t\t\tartist={artist}\n\t\t\t\t\treleaseYear={releaseYear}\n\t\t\t\t\thqArtwork={hqArtwork}\n\t\t\t\t\tisLoaded={false}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t};\n\n\tconst cardsHandler = isFavorites ? mapCards(favorites) : mapCards(results);\n\n\tconst loader = (\n\t\t<img\n\t\t\trel='preload'\n\t\t\talt='loading gif'\n\t\t\tas='image'\n\t\t\tsrc={loadingGif}\n\t\t\tstyle={{ width: '600px' }}\n\t\t/>\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{isLoading && loader}\n\t\t\t<article className='Container'>{cardsHandler}</article>\n\t\t</>\n\t);\n};\n\nexport const mapStateToProps = ({\n\tresults,\n\tisLoading,\n\tisFavorites,\n\tfavorites\n}) => ({\n\tresults,\n\tisLoading,\n\tisFavorites,\n\tfavorites\n});\n\nContainer.propTypes = {\n\tresults: PropTypes.array,\n\tfavorites: PropTypes.array,\n\tisLoading: PropTypes.bool,\n\tisFavorites: PropTypes.bool\n};\n\nexport default connect(mapStateToProps)(Container);\n","import React from 'react';\nimport './Nav.scss';\nimport { connect } from 'react-redux';\nimport { toggleFavorites } from '../../actions/index';\nimport { bindActionCreators } from 'redux';\nimport { Link, Route } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nexport const Nav = ({ isFavorites, toggleFavorites }) => {\n\tconst toggleStyling = isFavorites ? 'active' : '';\n\n\treturn (\n\t\t<nav className='Nav'>\n\t\t\t<Route exact path='/(|favorites)'>\n\t\t\t\t<div className='container'>\n\t\t\t\t\t<h3>My List</h3>\n\t\t\t\t\t<div className={`slider-track ${toggleStyling}`}>\n\t\t\t\t\t\t<Link to={isFavorites ? '/' : 'favorites'}>\n\t\t\t\t\t\t\t<div className='slider' onClick={toggleFavorites}></div>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Route>\n\t\t\t<h2>Artworked</h2>\n\t\t\t<div></div>\n\t\t</nav>\n\t);\n};\n\nexport const mapStateToProps = ({ isFavorites }) => ({\n\tisFavorites\n});\n\nexport const mapDispatchToProps = dispatch => {\n\treturn bindActionCreators({ toggleFavorites }, dispatch);\n};\n\nNav.propTypes = {\n\tisFavorites: PropTypes.bool,\n\ttoggleFavorites: PropTypes.func\n};\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Nav);\n","import React, { Component } from 'react';\nimport './AudioPlayer.scss';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { setTrack } from '../../actions/index';\n\nexport class AudioPlayer extends Component {\n\tcomponentWillUnmount = () => {\n\t\tthis.props.setTrack('');\n\t};\n\n\trender() {\n\t\tconst { currentTrack } = this.props;\n\t\treturn (\n\t\t\t<audio controls className='audioPlayer'>\n\t\t\t\t<source src={currentTrack} type='audio/mpeg' />\n\t\t\t</audio>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = ({ currentTrack }) => ({\n\tcurrentTrack\n});\n\nconst mapDispatchToProps = dispatch => {\n\treturn bindActionCreators({ setTrack }, dispatch);\n};\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(AudioPlayer);\n","import React, { Component } from 'react';\nimport './ArtworkModal.scss';\nimport Nav from '../Nav/Nav';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { addFavorite, removeFavorite, setTrack } from '../../actions/index';\nimport PropTypes from 'prop-types';\nimport { getAlbumTracks } from '../../util/apiCalls';\nimport { cleanTracks } from '../../util/apiCleaners';\nimport AudioPlayer from '../AudioPlayer/AudioPlayer';\n\nexport class ArtworkModal extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tchange: false,\n\t\t\tisFavorite: true,\n\t\t\ttracks: [],\n\t\t\tisLoaded: false,\n\t\t\treloadPlayer: false\n\t\t};\n\t}\n\n\tcomponentDidMount = async () => {\n\t\tconst { result, favorites } = this.props;\n\t\tconst { id } = result;\n\t\tthis.setState({\n\t\t\tisFavorite: favorites.find(favorite => favorite.id === id)\n\t\t});\n\t\tconst albumTracks = await getAlbumTracks(id);\n\t\ttry {\n\t\t\tconst cleanedTracks = cleanTracks(albumTracks);\n\t\t\tthis.setState({ tracks: cleanedTracks, isLoaded: true });\n\t\t} catch (error) {\n\t\t\tthis.setState({ tracks: 'Could not fetch' });\n\t\t}\n\t};\n\n\tcomponentWillUnmount = () => {\n\t\tconst { favorites, removeFavorite, addFavorite, result } = this.props;\n\t\tconst { id } = result;\n\t\tif (this.state.change) {\n\t\t\tfavorites.find(favorite => favorite.id === id)\n\t\t\t\t? removeFavorite(id)\n\t\t\t\t: addFavorite(result);\n\t\t}\n\t};\n\n\thandleToggle = () => {\n\t\tthis.setState({\n\t\t\tchange: !this.state.change,\n\t\t\tisFavorite: !this.state.isFavorite,\n\t\t\treloadPlayer: true\n\t\t});\n\n\t\tsetTimeout(() => {\n\t\t\tthis.setState({ reloadPlayer: false });\n\t\t}, 500);\n\t};\n\n\tmapTracks = () => {\n\t\treturn this.state.tracks.map((track, index) => {\n\t\t\tconst { name, number, previewUrl } = track;\n\t\t\treturn (\n\t\t\t\t<li key={index} onClick={() => this.handleTrack(previewUrl)}>\n\t\t\t\t\t<span className='trackNumber'>{number}. </span>\n\t\t\t\t\t{name}\n\t\t\t\t</li>\n\t\t\t);\n\t\t});\n\t};\n\n\thandleTrack = async trackPreview => {\n\t\tthis.props.setTrack(trackPreview);\n\t};\n\n\trender() {\n\t\tconst { isFavorites, result } = this.props;\n\t\tconst { name, artist, releaseYear, hqArtwork } = result;\n\t\tconst heartToggle = this.state.isFavorite ? 'is-active' : '';\n\t\tconst routeHandler = isFavorites ? 'favorites' : '';\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Link to={`/${routeHandler}`}>\n\t\t\t\t\t<div className='modal-backdrop'></div>\n\t\t\t\t</Link>\n\t\t\t\t<Nav />\n\t\t\t\t<article className='ArtworkModal modalContainer'>\n\t\t\t\t\t<img alt={`${name} album artwork`} src={hqArtwork} />\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className='title'>{name}</h3>\n\t\t\t\t\t\t<h3 className='artist'>{artist}</h3>\n\t\t\t\t\t\t<h3 className='year'>{releaseYear}</h3>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={hqArtwork}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\trel='noopener noreferrer'\n\t\t\t\t\t\t\tdownload>\n\t\t\t\t\t\t\t<button className='artwork-button'>Get Artwork</button>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={`heart ${heartToggle}`}\n\t\t\t\t\t\t\tonClick={this.handleToggle}></div>\n\t\t\t\t\t\t<ul>{this.state.isLoaded && this.mapTracks()}</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</article>\n\t\t\t\t{this.props.currentTrack && !this.state.reloadPlayer && <AudioPlayer />}\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport const mapStateToProps = ({ favorites, isFavorites, currentTrack }) => ({\n\tfavorites,\n\tisFavorites,\n\tcurrentTrack\n});\n\nexport const mapDispatchToProps = dispatch => {\n\treturn bindActionCreators(\n\t\t{\n\t\t\taddFavorite,\n\t\t\tremoveFavorite,\n\t\t\tsetTrack\n\t\t},\n\t\tdispatch\n\t);\n};\n\nArtworkModal.propTypes = {\n\tfavorites: PropTypes.array,\n\tisFavorites: PropTypes.bool,\n\taddFavorite: PropTypes.func,\n\tremoveFavorite: PropTypes.func\n};\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(ArtworkModal);\n","import React from 'react';\nimport './App.scss';\nimport SearchForm from '../SearchForm/SearchForm';\nimport Container from '../Container/Container';\nimport ArtworkModal from '../ArtworkModal/ArtworkModal';\nimport { Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Nav from '../Nav/Nav';\n\nexport const App = ({ results, favorites }) => {\n\treturn (\n\t\t<main className='App'>\n\t\t\t<Nav />\n\t\t\t<Route exact path='(|search/:id)' render={() => <SearchForm />} />\n\t\t\t<Route path='(|search/:id)' render={() => <Container />} />\n\t\t\t<Route\n\t\t\t\tpath='/(search|favorites)/:id'\n\t\t\t\trender={({ match }) => {\n\t\t\t\t\tconst id = parseInt(match.params.id);\n\t\t\t\t\tconst data = [...results, ...favorites];\n\t\t\t\t\tconst result = data.find(result => result.id === id);\n\t\t\t\t\treturn <ArtworkModal result={result} match={match.params} />;\n\t\t\t\t}}\n\t\t\t/>\n\t\t</main>\n\t);\n};\n\nexport const mapStateToProps = ({ results, favorites }) => ({\n\tresults,\n\tfavorites\n});\n\nApp.propTypes = {\n\tresults: PropTypes.array,\n\tfavorites: PropTypes.array\n};\n\nexport default connect(mapStateToProps)(App);\n","import { combineReducers } from 'redux';\nimport { isLoading } from './isLoading';\nimport { results } from './results';\nimport { favorites } from './favorites';\nimport { isFavorites } from './isFavorites';\nimport { currentTrack } from './currentTrack';\n\nconst RootReducer = combineReducers({\n\tresults,\n\tisLoading,\n\tfavorites,\n\tisFavorites,\n\tcurrentTrack\n});\n\nexport default RootReducer;\n","export const results = (state = [], action) => {\n\tswitch (action.type) {\n\t\tcase 'SET_RESULTS':\n\t\t\treturn action.results;\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","export const isLoading = (state = false, action) => {\n\tswitch (action.type) {\n\t\tcase 'TOGGLE_LOADING':\n\t\t\treturn action.boolean;\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","export const favorites = (state = [], action) => {\n\tswitch (action.type) {\n\t\tcase 'ADD_FAVORITE':\n\t\t\treturn [action.item, ...state];\n\t\tcase 'REMOVE_FAVORITE':\n\t\t\treturn state.filter(favorite => favorite.id !== action.id);\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","export const isFavorites = (state = false, action) => {\n\tswitch (action.type) {\n\t\tcase 'TOGGLE_FAVORITES':\n\t\t\treturn !state;\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","export const currentTrack = (state = '', action) => {\n\tswitch (action.type) {\n\t\tcase 'SET_TRACK':\n\t\t\treturn action.previewUrl;\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './components/App/App';\nimport { HashRouter as Router } from 'react-router-dom';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport rootReducer from './reducers';\nimport { loadState, saveState } from './localStorage';\n\nconst store = createStore(rootReducer, loadState(), composeWithDevTools());\n\nstore.subscribe(() => {\n\tsaveState({\n\t\tresults: store.getState().results,\n\t\tfavorites: store.getState().favorites,\n\t\tisFavorites: store.getState().isFavorites\n\t});\n});\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<Router>\n\t\t\t<App />\n\t\t</Router>\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n","export const saveState = state => {\n\ttry {\n\t\tconst serializedState = JSON.stringify(state);\n\t\tlocalStorage.setItem('state', serializedState);\n\t} catch (error) {\n\t\tconsole.error(error);\n\t}\n};\n\nexport const loadState = () => {\n\ttry {\n\t\tconst serializedState = localStorage.getItem('state');\n\t\tif (serializedState === null) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn JSON.parse(serializedState);\n\t} catch (error) {\n\t\tconsole.error(error);\n\t}\n};\n"],"sourceRoot":""}